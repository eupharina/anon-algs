<html>
<head>
    <meta charset="UTF-8">
    <script src="include/jquery-1.11.0.min.js"></script>

<script>
function toggle(hideId) {
 if( document.getElementById(hideId).style.visibility=='visible' ){
   document.getElementById(hideId).style.visibility = 'hidden';
 }else{
   document.getElementById(hideId).style.visibility = 'visible';
 }
}



function tableCreate(){
    var alg
    $.ajax({//ajax method to load the board.json and call the loadBoard() function on success
      'async': false,
      'global': false,
      type:'GET',
      dataType:'text',
      url:"http://localhost:8000/alg.txt",
      success:function(data){
//         $("#main-container").hide()
          alg = data;
  	console.log("loaded " + data);
      }
    });

    console.log("DATA: " + alg);
    var arrayOfLines = alg.split("\n");

    var tableDiv = document.getElementById("myDynamicTable")
    var tbl = document.createElement('TABLE');
    tbl.style.width  = '1000px';
    //tbl.style.border = '1px solid black';

    for(var i = 0; i < arrayOfLines.length; i++){
        var tr = tbl.insertRow();
        var tdNum = tr.insertCell();
        tdNum.appendChild(document.createTextNode(i));
        tdNum.style.width  = '100px';
        var tdLine = tr.insertCell();
	tdLine.style.visibility = 'hidden';
	var tdLineId = "line" + i;
	tdLine.setAttribute("id", tdLineId);
	(function(index){
	    tdNum.addEventListener('click', function() {
	        toggle(index);
	    });
        })(tdLineId)
	tdLine.appendChild(document.createTextNode(arrayOfLines[i]));
    }
    tableDiv.appendChild(tbl);
}
</script>
</head>

<body>

<div id="myDynamicTable"></div>

<script>
tableCreate();
</script>


</body>
</html>


